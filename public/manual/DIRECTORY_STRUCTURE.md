# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã®èª¬æ˜

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Next.js + TypeScript ã§ GitHub Pages ã«å…¬é–‹ã™ã‚‹æ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```text
repo-observer/
â”œâ”€ src/                    # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆNext.js 13+ App Routerï¼‰
â”‚  â”œâ”€ app/                 # ãƒšãƒ¼ã‚¸ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚  â”œâ”€ components/          # React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚  â””â”€ lib/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚
â”œâ”€ public/                 # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ“ãƒ«ãƒ‰æ™‚ã« out/ ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ï¼‰
â”‚  â”œâ”€ data/                # CSVãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ç”Ÿæˆï¼‰
â”‚  â””â”€ manual/              # Markdownãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚
â”œâ”€ out/                    # Next.jsãƒ“ãƒ«ãƒ‰å‡ºåŠ›ï¼ˆ.gitignoreå¯¾è±¡ï¼‰
â”‚  â”œâ”€ index.html           # ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸHTML
â”‚  â”œâ”€ data/                # public/data/ ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
â”‚  â”œâ”€ manual/              # public/manual/ ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
â”‚  â””â”€ ...                  # ãã®ä»–ã®ãƒ“ãƒ«ãƒ‰æˆæœç‰©
â”‚
â”œâ”€ docs/                   # GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ï¼ˆGitç®¡ç†å¯¾è±¡ï¼‰
â”‚  â”‚                       # deploy-docs.yml ãŒ out/ ã®å†…å®¹ã‚’ã“ã“ã«ã‚³ãƒ”ãƒ¼
â”‚  â”œâ”€ index.html
â”‚  â”œâ”€ data/
â”‚  â””â”€ .nojekyll            # Jekyllç„¡åŠ¹åŒ–ãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â”œâ”€ .github/
â”‚  â”œâ”€ workflows/                    # GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«
â”‚  â””â”€ scripts/repo-full-sync/       # ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å°‚ç”¨ï¼‰
â”‚
â”œâ”€ next.config.js          # Next.jsè¨­å®šï¼ˆdistDir: 'out'ï¼‰
â”œâ”€ tsconfig.json           # TypeScriptè¨­å®šï¼ˆ@/* â†’ ./src/*ï¼‰
â””â”€ package.json            # ä¾å­˜é–¢ä¿‚ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

## ğŸ”§ é‡è¦ãªè¨­å®š

### 1. `next.config.js`

- `distDir: 'out'` - ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ã‚’ `out/` ã«ç”Ÿæˆ
- `output: 'export'` - é™çš„HTMLã‚’ç”Ÿæˆï¼ˆSSGï¼‰
- `basePath` - GitHub Pagesç”¨ã®ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ï¼ˆãƒªãƒã‚¸ãƒˆãƒªåï¼‰

### 2. `tsconfig.json`

- `paths: { "@/*": ["./src/*"] }` - ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š

### 3. `package.json`

- `npm run build` - ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œï¼ˆå‡ºåŠ›å…ˆ: `out/`ï¼‰
- `npm run dev` - é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

## ğŸ“¦ ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹

1. **é–‹ç™ºæ™‚**

   ```bash
   npm run dev
   ```

   - é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ï¼ˆ`localhost:3000`ï¼‰

2. **ãƒ“ãƒ«ãƒ‰æ™‚**

   ```bash
   npm run build
   ```

   - `src/` é…ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
   - `public/` é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `out/` ã«ã‚³ãƒ”ãƒ¼
   - é™çš„HTMLã‚’ `out/` ã«ç”Ÿæˆ

3. **GitHub Actions ã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤**
   - `.github/workflows/deploy-docs.yml` ãŒè‡ªå‹•å®Ÿè¡Œ
   - `out/` ã®å†…å®¹ã‚’ `docs/` ã«ã‚³ãƒ”ãƒ¼
   - `docs/` ã‚’GitHub Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†

- **å…ƒãƒ‡ãƒ¼ã‚¿**: `public/data/` ã«é…ç½®ï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ç”Ÿæˆï¼‰
- **ãƒ“ãƒ«ãƒ‰æ™‚**: `public/data/` ã®å†…å®¹ãŒè‡ªå‹•çš„ã« `out/data/` ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
- **ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚**: `out/data/` ã®å†…å®¹ãŒ `docs/data/` ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
- **Gitç®¡ç†**: `public/data/**/*.csv` ã¯è¿½è·¡å¯¾è±¡ï¼ˆ`out/` ã¯ .gitignoreã€`docs/` ã¯è¿½è·¡å¯¾è±¡ï¼‰

## ğŸ“ å¤‰æ›´å±¥æ­´

- 2025-12-02: ãƒ“ãƒ«ãƒ‰ãƒ•ãƒ­ãƒ¼ã‚’æ˜ç¢ºåŒ–ï¼ˆ`out/` â†’ `docs/` ã®ã‚³ãƒ”ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ˜è¨˜ï¼‰
- 2025-11-25: `components/`, `lib/` ã‚’ `src/` é…ä¸‹ã«ç§»å‹•ï¼ˆä¸€èˆ¬çš„ãªNext.jsæ§‹æˆã«çµ±ä¸€ï¼‰
- 2025-11-23: `app/`, `components/`, `lib/` ã‚’ `src/` é…ä¸‹ã«ç§»å‹•
- Next.jsã®æ¨™æº–çš„ãª `distDir: 'out'` ã‚’ä½¿ç”¨ã—ã€GitHub Actions ã§ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ã« `docs/` ã¸ã‚³ãƒ”ãƒ¼
- `copy-build-to-docs.js` ã¯ä¸è¦ã«ãªã£ãŸãŸã‚å‰Šé™¤
